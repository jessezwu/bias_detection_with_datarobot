---
title: "Bias Template"
output:
  html_document:
    toc: true
    toc_float: true

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(datarobot)
library(tidyverse)
library(magrittr)
library(httr)
library(ggplot2)
library(scales)
library(creditmodel)
library(lubridate)
library(anytime)
library(ggrepel)
library(ggwordcloud)
library(yaml)
source('project_helpers.R')
```

# Project Setup

```{r project_config, echo=FALSE}
config <- read_yaml('config/project_config.yaml')
print(config)
```

# Feature cleaning and initial model

Create a DataRobot project, and:

1. Automatically remove non-informative features
2. Look for and remove target leakage columns
3. Explicitly Remove protected features
4. Run an autopilot


```{r setup_project}
# If this project already exists, load it instead of re-running.
tryCatch({
    project <- load_project(config$project_name)
  },
  error = function(e) {
    source('0_setup.R')
  }
)
```

# Model performance

Look at accuracy and bias measures.

```{r performance, message=FALSE}
source('1_performance.R')
```

# Indirect bias

Investigate cross-class data disparity between a selected value of a protected
feature, against all other values.

```{r indirect_bias, message=FALSE}
source('2_indirect_bias.R')
```
